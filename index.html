<!doctype html>
<!-- republish $(date) -->
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ember ‚Äî Hot Coffee. Anywhere. Anytime.</title>
  <meta name="description" content="Ember delivers caf√©-quality heat in a grab-and-go can ‚Äî no barista required. Join the waitlist." />

  <!-- GA4 (use your real ID) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YJ38EB0J4S"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-YJ38EB0J4S');
  </script>

  <style>
    :root{
      --bg:#0b0b0b; --fg:#fff; --muted:#c8c8c8;
      --accent:#ff5a1f; --accent-2:#ff7b3d; --card:#141414;
      --radius:18px; --shadow:0 20px 60px rgba(0,0,0,.45);
      --font: system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, sans-serif;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--fg);font-family:var(--font);line-height:1.5;-webkit-font-smoothing:antialiased}
    a{color:inherit;text-decoration:none}
    img,video{max-width:100%;display:block}
    .container{width:min(1100px,92vw);margin-inline:auto}

    /* HERO */
    .hero{position:relative;min-height:90vh;display:grid;place-items:center;overflow:hidden}
    .hero video,.hero .hero-img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:brightness(.55) saturate(1.1)}
    .hero-overlay{position:relative;z-index:2;text-align:center;padding:80px 0 32px}
    .badge{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.1);border-radius:999px;font-size:13px;color:var(--muted);backdrop-filter:blur(8px)}
    h1{font-size:clamp(32px,6vw,64px);margin:14px 0 6px;letter-spacing:-.02em}
    .sub{font-size:clamp(16px,2.6vw,22px);color:#e7e7e7;max-width:780px;margin:0 auto 26px}
    .cta{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
    .btn{appearance:none;border:0;cursor:pointer;font-weight:700;border-radius:14px;padding:14px 18px;transition:.2s transform,.2s box-shadow,.2s background}
    .btn-primary{background:linear-gradient(135deg,var(--accent),var(--accent-2));color:#111;box-shadow:0 8px 28px rgba(255,90,31,.35)}
    .btn-primary:hover{transform:translateY(-1px)}
    .btn-secondary{background:rgba(255,255,255,.08);color:#fff;border:1px solid rgba(255,255,255,.12)}
    .metrics{margin-top:12px;font-size:13px;color:var(--muted)}
    .down{margin-top:28px;font-size:13px;color:var(--muted)}

    /* Sections */
    section{padding:60px 0}
    .grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    @media (max-width:880px){.grid-3{grid-template-columns:1fr}}
    .card{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);padding:22px;box-shadow:var(--shadow)}
    .card h3{margin:6px 0 6px;font-size:22px}
    .muted{color:var(--muted)}

    .usecase{display:grid;grid-template-columns:1.1fr .9fr;gap:26px;align-items:center;margin-top:28px}
    .usecase:nth-child(odd){grid-template-columns:.9fr 1.1fr}
    @media (max-width:880px){.usecase{grid-template-columns:1fr}}

    /* FAQ */
    details{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:14px 16px}
    details+details{margin-top:10px}
    summary{cursor:pointer;font-weight:600}

    footer{padding:40px 0 70px;color:var(--muted);text-align:center}

    /* Modal */
    .modal-backdrop{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.55);z-index:9999;padding:18px}
    .modal{width:min(520px,96vw);background:#fff;color:#111;border-radius:16px;padding:22px;box-shadow:0 30px 80px rgba(0,0,0,.35)}
    .modal h3{margin:4px 0 6px}
    .modal input[type="email"]{width:100%;padding:14px;border:1px solid #ddd;border-radius:12px;font-size:15px}
    .modal .actions{display:flex;gap:10px;margin-top:12px}
    .modal .btn{border-radius:12px}
    .notice{margin-top:8px;font-size:12px;color:#555}
    .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:20px;background:#111;color:#fff;padding:10px 14px;border-radius:999px;font-size:14px;opacity:0;transition:.25s}
    .toast.show{opacity:1}
  </style>
</head>
<body>

  <!-- HERO -->
  <header class="hero">
    <!-- Replace these two files in /assets (see list below) -->
    <video autoplay muted playsinline loop poster="assets/hero-poster.jpg">
      <source src="assets/ember-hero-loop.mp4" type="video/mp4">
    </video>

    <div class="hero-overlay container">
      <span class="badge">üî• New ‚Ä¢ Portable Hot Coffee</span>
      <h1>Hot Coffee. Anywhere. Anytime.</h1>
      <p class="sub">Ember delivers caf√©-quality heat in a grab-and-go can ‚Äî no barista required.</p>
      <div class="cta">
        <button id="buyNowBtn" class="btn btn-primary">Reserve My Ember</button>
        <a href="#learn-more" class="btn btn-secondary">Learn more</a>
      </div>
      <div class="metrics" id="metricsLine">Tracked: 0 views ‚Ä¢ 0 clicks ‚Ä¢ 0 signups</div>
      <div class="down">Scroll ‚Üì to see how it works</div>
    </div>
  </header>

  <!-- BENEFITS -->
  <section id="learn-more">
    <div class="container grid-3">
      <div class="card"><h3>Instant Heat</h3><p class="muted">Activate and enjoy steaming coffee in minutes ‚Äî no machine, no outlet.</p></div>
      <div class="card"><h3>Anywhere</h3><p class="muted">From commute to chairlift, take the heat with you. Pack-safe and travel-ready.</p></div>
      <div class="card"><h3>Sustainable</h3><p class="muted">Designed with recyclability in mind and minimized components.</p></div>
    </div>
  </section>

  <!-- USE-CASES -->
  <section>
    <div class="container">
      <div class="usecase">
        <img src="assets/usecase-commute.jpg" alt="Ember on the morning commute">
        <div>
          <h2>Morning Commute</h2>
          <p class="muted">Skip the line. Activate Ember as you leave ‚Äî sip hot coffee as you arrive.</p>
        </div>
      </div>

      <div class="usecase">
        <div>
          <h2>On the Mountain</h2>
          <p class="muted">Warm up between runs. Ember stays pack-safe and mess-free.</p>
        </div>
        <img src="assets/usecase-ski.jpg" alt="Ember on a ski slope">
      </div>

      <div class="usecase">
        <img src="assets/usecase-gym.jpg" alt="Ember after the gym">
        <div>
          <h2>After the Gym</h2>
          <p class="muted">Comfort without compromise. Try our caf√©-mocha concept post-workout.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- SOCIAL PROOF / CREDIBILITY (lightweight for test) -->
  <section>
    <div class="container grid-3">
      <div class="card"><h3>‚ÄúFinally, hot coffee to go.‚Äù</h3><p class="muted">‚Äî Early tester</p></div>
      <div class="card"><h3>Be an early member</h3><p class="muted">Join the first 500 on the list to unlock launch perks.</p></div>
      <div class="card"><h3>As seen in</h3><p class="muted">Add press logos later (optional).</p></div>
    </div>
  </section>

  <!-- FAQ -->
  <section>
    <div class="container">
      <h2>FAQ</h2>
      <details open><summary>Is it safe?</summary><p class="muted">Yes. Ember uses sealed components and is designed for everyday carry.</p></details>
      <details><summary>How hot does it get?</summary><p class="muted">Target serving temp ~60‚Äì65 ¬∞C / 140‚Äì149 ¬∞F.</p></details>
      <details><summary>When can I get it?</summary><p class="muted">We‚Äôre validating demand now. Join the list to be first.</p></details>
    </div>
  </section>

  <!-- FINAL CTA -->
  <section>
    <div class="container" style="text-align:center">
      <h2>Be first when Ember launches</h2>
      <p class="muted">Reserve your spot ‚Äî no payment today.</p>
      <button id="buyNowBtn2" class="btn btn-primary" style="margin-top:8px;">Reserve My Ember</button>
    </div>
  </section>

  <footer>
    <div class="container">¬© <span id="year"></span> Ember ‚Ä¢ <a href="/privacy">Privacy</a> ‚Ä¢ <a href="/terms">Terms</a></div>
  </footer>

  <!-- EMAIL CAPTURE MODAL (Google Form) -->
  <div id="emailModalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-labelledby="emailModalTitle">
    <div class="modal">
      <h3 id="emailModalTitle">Almost there ‚Äî enter your email</h3>
      <p>We‚Äôll reserve your spot and email you first at launch.</p>
      <input id="emailInput" type="email" inputmode="email" placeholder="you@example.com" autocomplete="email" />
      <div class="actions">
        <button id="submitEmailBtn" class="btn btn-primary">Continue</button>
        <button id="cancelEmailBtn" class="btn btn-secondary">Cancel</button>
      </div>
      <div class="notice">By continuing, you agree to our <a href="/terms" target="_blank" rel="noopener">Terms</a> & <a href="/privacy" target="_blank" rel="noopener">Privacy</a>.</div>
    </div>
  </div>
  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    // ---------- IDs you can change ----------
    const GA_ID = 'G-YJ38EB0J4S';
    const FORM_ID = '1FAIpQLSdn0CiwR3UPUnrW1DzZl5-HGN4P4FjztaC77Y8Syqv01O1-Ug';
    const ENTRY_ID_EMAIL = 'entry.1671573404'; // email field
    // ---------------------------------------

    // Metrics in localStorage
    const LS = { views:'ember_views_v1', clicks:'ember_clicks_v1', signups:'ember_signups_v1', emails:'ember_emails_v1' };
    const $ = (id)=>document.getElementById(id);
    const emailRe=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i;

    function getNum(k){ return parseInt(localStorage.getItem(k)||'0',10); }
    function setNum(k,v){ localStorage.setItem(k,String(v)); }
    function getEmails(){ try{return JSON.parse(localStorage.getItem(LS.emails)||'[]')}catch{return[]} }
    function setEmails(list){ localStorage.setItem(LS.emails, JSON.stringify(list)) }
    function toast(msg){ const t=$('toast'); t.textContent=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),1700); }

    function refreshMetrics(){
      $('metricsLine').textContent = `Tracked: ${getNum(LS.views)} views ‚Ä¢ ${getNum(LS.clicks)} clicks ‚Ä¢ ${getNum(LS.signups)} signups`;
    }

    // Count a view (once per page load)
    setNum(LS.views, getNum(LS.views)+1);
    refreshMetrics();

    // Year
    $('year').textContent = new Date().getFullYear();

    // Modal helpers
    const modal = $('emailModalBackdrop');
    const openModal = ()=>{ modal.style.display='flex'; setTimeout(()=>$('emailInput').focus(),50); };
    const closeModal = ()=>{ modal.style.display='none'; };

    // Wire buttons
    ['buyNowBtn','buyNowBtn2'].forEach(id=>{
      const el=$(id); if(!el) return;
      el.addEventListener('click', ()=>{
        // click metric
        setNum(LS.clicks, getNum(LS.clicks)+1);
        if (window.gtag) gtag('event','buy_click',{event_category:'engagement',event_label:id});
        refreshMetrics();
        openModal();
      });
    });

    $('cancelEmailBtn').addEventListener('click', closeModal);
    $('emailModalBackdrop').addEventListener('click', (e)=>{ if(e.target===modal) closeModal(); });

    let submitting=false;
    $('submitEmailBtn').addEventListener('click', async ()=>{
      if(submitting) return;
      const email = $('emailInput').value.trim().toLowerCase();
      if(!emailRe.test(email)){ toast('Enter a valid email.'); $('emailInput').focus(); return; }

      // dedupe
      const list = getEmails();
      if(list.some(r=>r.email===email)){ toast('You‚Äôre already on the list!'); closeModal(); return; }

      submitting=true; $('submitEmailBtn').disabled=true;

      // Save locally
      const record={email, ts: new Date().toISOString()};
      setEmails([...list, record]);
      setNum(LS.signups, getNum(LS.signups)+1);
      refreshMetrics();

      // Fire GA event
      if (window.gtag) gtag('event','email_submit',{event_category:'conversion',value:1});

      // Submit to Google Form via hidden iframe
      const url=`https://docs.google.com/forms/d/e/${FORM_ID}/formResponse?${ENTRY_ID_EMAIL}=${encodeURIComponent(email)}&submit=Submit`;
      const iframe=document.createElement('iframe');
      iframe.style.display='none'; iframe.width=0; iframe.height=0; iframe.src=url; document.body.appendChild(iframe);
      setTimeout(()=>{ if(iframe.parentNode) iframe.remove(); }, 3000);

      toast('Email saved!'); closeModal(); submitting=false; $('submitEmailBtn').disabled=false;

      // Next step of funnel (optional): redirect to /thanks or show payment link
      // window.location.href = '/thanks';
    });

    $('emailInput').addEventListener('keydown', (e)=>{ if(e.key==='Enter') $('submitEmailBtn').click(); });
  </script>
</body>
</html>
